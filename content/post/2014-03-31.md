---
title: 诡异的打印
author: 大鹏
summary: ""
type: post
date: 2014-03-30T21:22:03+00:00
url: /archives/17095
views:
  - 34
categories:
  - 未分类
tags:
  - LaTeX

---
最近博客疏于打理，因为有件事情忙得我焦头烂额。我觉得我遇到了灵异现象，或者说是超自然现象。不然最近遇到的事情没法解释。

下面，我试图用通俗的语言描述一下这个诡异的事件。

### 引子

历尽艰辛，过关斩将，我奋力突破重重障碍，终于把足球带到了禁区。盯准球门，屏住呼吸，临门一脚！

射偏了。

射门射偏很正常，但这次却有点古怪。按照球的射出轨迹和旋转程度来预计，是正的。但是球的实际轨迹，却像是被一阵狂风吹到了界外。

这是个室内场馆，空调也没开，根本没风！

对方门将扑了个空，站起来，眼神里也露出纳闷儿。他捡起球，扔给我，示意再射一次。裁判表示同意。

那我就不客气了。容不得多想，我飞起一脚，球杀气腾腾直奔球门，到门前时突然来个了90度转弯，像航模直升飞机一样竖直往上方飞去！

裁判们窃窃私语，商量一会儿，主裁判宣布暂停比赛。他找来一把水果刀，把球切开来检查。裁判们怀疑足球被动了手脚，也许真地被遥控了。

然而结果让他们失望。他们什么也没找到。

换了个球，依然让我再射。怀着强烈的困惑，我暗暗吸一口气，射门！

守门员麻木地看着我，一动没动。全场鸦雀无声。我低头一看，大脑一片空白。

球刚离开我的脚只有两米远，却没有继续前进，而是像在空气中遇到了一堵无形的墙而反弹回来，按原路返回到了我的脚下！

我一屁股坐在了地上，对射时的快感完全失去了兴趣。

请原谅，上面这个射门场景是我杜撰的，并未真实发生。如果把读博士这几年比作一场球赛，那么最终打印和提交博士论文就好比射门。在打印论文的过程中，我遇到了难以解释的怪事。说起来太抽象，涉及太多技术问题，读来怕是让人生厌，但诡异程度跟上面我编出来的踢球事件不相上下。

下面我就用让人生厌的冗长文字，记录下我打印论文遇到的怪事。这是写给自己的，供将来参考。

### 怪事第一

万里迢迢，我从东土来西欧取经，原本美好的愿望是把博士花三年读完，最长四年，可是，现实更糟糕，如今已经到了第五个年头。其中历经九九八十一难，足够再写一本新西游记，择日再谈，本文不详述。终于，上周，教授同意我去打印装订提交了。最近这一年来我一直盼着这一天，可以想象此时我的心情是多么迫切。打印的事儿再简单不过：带着pdf文件去学校打印室交给工作人员，告诉他们打印装订6份，第二天去取就行了，费用自掏腰包。这是惯例，几乎所有学生都是这么做的。于是，我计划3月27日周四下午送去文件，28日周五上午取，然后连同其他材料一起交到学院办公室，这事儿就算是在今年3月了了。

简单不过，简单不过，越简单越不过。事后我老婆说，这事儿可以写一篇题为《中年Peng的奇幻打印》的小说。

根据经验，很多错误非得打印到纸上才能发现，所以为了保险起见，我周四赶早到打印室，要求他们先打印个小样出来，我确认无误后再继续打印另外五份。周四午饭前，我拿到了小样，翻到正文第一页就发现，引用的参考文献在年代和每个右括号之间都多了个空格。

我教授对引用文献有洁癖，这种格式错误肯定会挨骂。错误的原因，我第一个想到的是bibtex出了问题。

这篇论文是在 windows xp sp3 英文版下用 LaTeX 写成的，写作环境用的是TeXStudio 2.5.2，编译用的是pdfLaTeX，参考文献的排版用的是bibtex。我试着在bibtex所用到的bst里找问题，未遂。但是我发现了别的问题：除了参考文献的冗余空格外，目录里各章节的页码没有靠右对齐；正文里很多行的文字排到了外侧边缘上；有些数字变量名称跟正文文字重叠。差不多每页都有问题，这些问题的共同点是：对不齐。

奇怪的是，在电脑上查看pdf，我用了Adobe Reager，Adobe Acrobat和SumatraPdf三款软件去看，都完全是好的，没有任何对齐问题（**怪事第一**）。那么，难道是打印机的问题？

我用自己办公室的打印机打印了两页，完全没问题！可惜我教授不允许用办公室的打印机打学位论文。我不想在这个节骨眼儿上去犯教授的忌。

那么是学校打印室的打印机问题？

此时的我还预料不到后面有多少麻烦事儿。由于还找到了其他的诸如拼写和标点等错误，我决定纠正之后，第二天再去打印室重印。

### 怪事第二

28日，周五。一大早，我赶赴打印室。学校打印室的工作人员有三个：一个只说德语的老头儿，和两个会说英语的年轻人。其中一个年轻人，一看就是那种搞技术的理工男，接待了我。他说，他再打印一份试试，但是由于打印任务太多，我需要等一小时再来。

一小时后，我拿到了新的小样，迫不及待地翻到那些页面，松了口气：对齐问题都解决了。我很高兴，理工男也很高兴，说这下今天可以交论文了。正打算继续打印，我说等等！

我发现了新问题！有些页面里出现了奇怪的局部空白。有的空大半页，有的隔三差五空一些字符。空白部分原本有的文字都不见了！这样的页面我随便一翻就找到了四五页。这个问题在第一个小样里是没有出现的。跟第一个小样比，这个更糟糕。（**怪事第二**）

理工男表示费解，去电脑上看，跟我电脑上看到的一样，完美无瑕，没有任何对齐问题和空白问题。他说再打印一份，让我一小时再来。

再来，还是一样。

理工男满脸歉意，用医生的口气说：

> 很遗憾，我们已经尽力了。我们打印过成千上万的论文，这种情况还是第一次遇到。我们不知道为什么会这样，也不知道该怎么解决。您找别处试试吧。

我只能离开了。离开时，我带走了所有印错的页面。这时已经到了周五中午，提交论文的办公室下班了。我最早只能下周一，也就是3月31日才能提交。回去我把这事儿告诉了同样在熬论文的德国同事J，他是个LaTeX高手，但也解决不了我的问题。事实上，我们没法判断这事儿跟LaTeX有没有关系。照理说，pdf应该是很稳定的格式啊。J为此事开始焦虑，说不知道他交论文的时候会遇上什么事儿。

3月一定交论文！我决心去朋友实验室的打印机上试试。

### 怪事第三到第八

朋友说没问题，周末趁没人的时候打，实验室有两台打印机，一彩一黑白，都好用。29日，周六，他在电脑上打开我的pdf文件，选择彩打，双面打印。打印机提示，需要手动换面。

朋友疑惑了，说：

> 奇怪，前两天还能自动换面，怎么现在要手动？我一直用这一台，都没有问题。今天是怎么回事？怪了怪了。（**怪事第三**）

手动换面本来就很容易弄混页码。这台彩打的手动换面说明也是德语的，看不懂。我来别人实验室偷偷打印，本来就心虚，还是算了吧。那另外一台呢？

另外一台连接不上。打印任务死活发送不出去。朋友反复嘟囔说：

> 平时一直是好的，一直是。（**怪事第四**）

我说：两台打印机都不正常，是不是你的电脑有问题？

他说：嗯，那换一台电脑。我用远程桌面，从另一台电脑上打印试试。那台电脑在另一个房间，周末锁了进不去。

远程桌面一连上，朋友突然惊呼：

> 这不是我那台电脑！桌面全变了！

桌面的确全变了，但的确是朋友那台电脑，因为原来的文档都在，只是有些软件没了，打印机驱动也没了。朋友说：

> 这怎么回事儿，我昨天刚远程连过……（**怪事第五**）

是不是打印机没有连在网络上呢？我们去检查打印机，没发现网络问题，却发现打印机上有usb接口。我插上优盘，发现可以直接打印。

我惊喜万分，选择打印，打印机呼呼工作了！

可惜好景不长，打印到第47页的时候，小显示屏上提示：硬件错误！后面一大堆德语信息。第47页卡在里面，只能拽出来，重启。如此四次，全部是中止到第47页死机！（**怪事第六**）

我们只能寄希望于故障出在第47页，跳过这一页没准儿就行了。

30日，星期天。朋友把我截取47页以后的文件拿到实验室打印，没过多久就灰头土脸回来告诉我，还是不行。打到某一页就中止，然后出一页错误报告，说：

    PDF Error 141: TYPECHECK during lookup - expected Dictionary
    Type is 0x0
    

这是什么意思？不懂。（**怪事第七**）

朋友设法重新截取pdf文件，跳过这一页，但是还没打印几页，打印机居然史无前例地黑屏死机了！（**怪事第八**）

我们只好放弃了。

我已经被折磨得疲惫不堪，但不得不继续想办法。眼下有三条路可走：

  1. 另找个校外的打印室试试，但我担心德语沟通有问题，并且生怕再出新的打印问题，我已经没有耐心去排查新问题了。
  2. 自己买纸买墨盒，用自己办公室的打印机打。但我从没自己买过墨盒，另外即使买到的话，31日也来不及打印了。
  3. 仍然去学校打印室打印，出错就出错，“怪事第二”里的错误页面并不多，我去办公室打印出正确的，换上就行了，教授应该不会介意。

我选择了第3条路，比较稳妥，至少出现的问题是已知的。谁知道，人算不如天算，又出现了未知问题。

### 怪事第九

31日，周一。早上七点我就赶到了学校打印室，等了几分钟，理工男才来上班。听清了我的来意，他笑着说：

> 我争取给你犯“怪事第二”的错误，不犯“怪事第一”的错误。但是，我们的打印机坏了，要等工程师来维修，今天不一定能修好。怪了，这打印机没出过故障……（**怪事第九**）

我后面来排队打印的学生越来越多。我很累。我感觉到，似乎冥冥之中有种无形的力量，在掣我的肘，绊我的脚，不让我射门。踢出去的球还能滚回来。

### 结局

我告诉自己：3月，一定交论文！

于是我问：如果我想办法拿给你一份完美的打印稿，你能今天给我复印吗？

理工男说：可以，复印机没坏。但只能复印出黑白的。

我说：OK。

我回到办公室，从“怪事第二”里打印出来的所有页面里挑出错页和彩页，在自己办公室的打印机上打印（总共几十页，假定教授不会责怪），然后拿到学校打印室复印，装订，然后赶到院办公室，他们还没下班。

百转千回，我终于在3月31日把论文交了上去。球总算进了。

可以说，我是脚不离球地连人带球一同扎进球门的，对方门将看我的郁闷样儿，都懒得拦我。

虽然成功交了论文，我依然无法解释，为什么在打印论文这件事儿上故障迭出，每个故障都是极少发生甚至几乎从来没有发生过的，并且每个故障至今都不知道因何发生。假定每个故障的发生概率是百分之一，那么这九个故障同时发生的概率就是一百亿亿分之一。

作为自然科学的博士生，我认为，这是一种超自然现象。
