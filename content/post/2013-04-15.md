---
title: 搭建中英双语 wordpress 博客
author: 大鹏
summary: ""
type: post
date: 2013-04-14T16:20:11+00:00
url: /archives/15265
duoshuo_thread_id:
  - 1360835854884405572
views:
  - 634
categories:
  - 未分类
tags:
  - wordpress

---
打算搭建一个中英双语博客的想法由来已久。早期的帖子里，dapeng 曾同一篇前一半用英文，后一半用中文，想来阅读体验是相当糟糕的。后来，用个懒省事儿的办法，给博客上添加了个按钮直接链接到Google Translatge，英德韩简繁，看上去挺唬人，后来韩国同学的反馈是：大概看不出博客在说什么。其实，英德互译的话基本意思还能看明白，而中英互译简直就是胡说八道了。虽然 twisting 也许是个不错的名字，但 dapeng 不能忍受 Google Translate 把它作为兜兜名字的英文翻译。不过，作为一款免费翻译软件，表现已经相当出色了，还能期待什么呢？说到头来，双语博客还是得靠自己一个字一个字去写才靠谱。也看到很多朋友中文英文各开一个博客，各自独立，这不是 dapeng 想要的。dapeng 需要的是个双语界面，就像[系主页][1]那样。最好同一篇文章双语版本的评论能聚合到一起。但是，技术上 dapeng 一直不知道怎么实现双语界面，直到这两天为自己糟糕的英语水平所困，终于决定拿双语博客来练练手了。点击博客右上角的语言按钮，就可以实现切换。不是 Google 翻译的哦！

### qTranslate

搭建双语博客比想象得要容易。这里假定已经搭建好了一个普通的单语种 wordpress 博客（方法[以前介绍过][2]），那么步骤如下：

  1. 安装 qTranslate 插件。
  2. 修改 qTranslate 的语言设置。这个插件支持多语，甚至可以自定义语言。别说双语，新增一个精灵语都没有问题。 晴耕雨讀志默认安装了中英德三语，于是 dapeng 把德语删掉了。
  3. 这样在撰写文章的界面就会出现语言标签进行切换。同一个帖子或页面可以用多种语言书写，共用同一个永久链接。
  4. 在小工具选项里多出一个语言选择器，添加到侧边栏之后，读者就有入口来切换语言了。

### 时间格式问题

安装设置完 qTranslate 之后，dapeng 发现每篇帖子末尾附加的时间信息格式乱了。解决这个问题很简单。

  1. 在 qTranslate 的高级设置里找到时间日期转换选项，将 “使用模拟的 date 函数”选中。
  2. 在 `qtranslate_core.php` 文件中找到 `qtrans_strftime` 函数，将下面这一行代码插入到这个函数的开头： `$format = str_replace('%%','%',$format)`

### 小工具的双语切换

侧边栏的小工具，可以通过下面的代码来切换语言：`<!--:language-->your text<!--:-->`。例如,`<!--:zh-->晴耕雨讀志<!--:--><!--:en-->dapeng<!--:-->` 会自动在中英文之间切换。

还剩下最后一个问题，就是小工具的标题仍然只有一种语言显示。要解决这个问题可以通过 Widget logic 插件。安装该插件后，每个小工具会多出一个选项，叫做 Widget logic。将它设置成相应的语言即可，比如 `qtrans_getLanguage()==’en’`。

好了，一个双语博客就完工啦！

 [1]: http://www.bayceer.uni-bayreuth.de/mm/
 [2]: http://dapengde.com/2013-02-05-wordpress%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%96%B0%E6%89%8B%E5%85%A8%E7%BA%AA%E5%BD%95/
